<!doctype html>
<html lang="en" ng-app="weaveAnalyst">
	<head> 
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Weave Analyst</title>

		<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
		<link href="bower_components/angular-ui-layout/ui-layout.css"  rel="stylesheet"/>
		<link rel="stylesheet" href="lib/angular-motion/angular-motion.min.css">
		<link href="bower_components/angular-ui-grid/ui-grid.css" rel="stylesheet" type="text/css"/>
<!-- 		<link href="lib/ng-grid/ng-grid.css" rel="stylesheet" type="text/css"/> -->

		<link rel="stylesheet" href="css/bootstrap-duallistbox.css"/>
		<link rel='stylesheet' href="css/bootstrap-addition.css"/>
		<link rel="stylesheet" href="css/app.css">
		<link rel="stylesheet" href="css/font-awesome.css">
		<link rel="stylesheet" href="css/cutdown.css">
		<link rel="stylesheet" href="bower_components/angular-ui-select/dist/select.css"/>
		<link rel="stylesheet" href="lib/ui-select2/select2.css"/>
<!-- 		<link rel="stylesheet" href="lib/dynatree/ui.dynatree.css"/> -->
		<link rel="stylesheet" href="css/projects.css"/>
		<link rel="stylesheet" href="css/metadata.css"/>
		<link rel="stylesheet" href="css/script_managemnt.css" />
		<link rel="stylesheet" href="css/app-old.css" />
		<link rel="stylesheet" href="css/modal.css"/>
		
	</head>

	<body>


		<div style="height: 100%;" ng-controller="weaveAnalystController as wa_main" >

					<header id ="header">
				<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
					<div class="collapse navbar-collapse navbar-ex1-collapse">

						<a class="navbar-brand" ui-sref="index"> <i class="fa fa-home fa-lg" style = "color:white"></i> <span class = "logo">Weave Analyst </span> </a>

						<button type="button" class="navbar-toggle btn-danger" data-toggle="collapse" data-target="#navbar-to-collapse">
							<span class="sr-only">Toggle right menu</span>

						</button>


						<!--The main navbar-->
						 <ul class="nev">
       						 <li ng-class="{active: state.current.data.activetab == 'project'}"><a ui-sref="project">Project</a></li>
       						 <li ng-class="{active: state.current.data.activetab == 'metadata'}"><a ui-sref="metadata">Metadata</a></li>
       						 <li ng-class="{active: state.current.data.activetab == 'script_management'}"><a ui-sref="script_management">Scripts</a></li>
       						 <li ng-class="{active: state.current.data.activetab == 'analysis'}" ><a ui-sref="analysis">Analysis</a></li>
       						 <li ng-class="{active: state.current.data.activetab == 'cross_tab'}"><a ui-sref="cross_tab">Cross Tabulation</a></li>
       						 <li ng-class="{active: state.current.data.activetab == 'data_stats'}"><a ui-sref="data_stats">Data Stats</a></li>
   						 </ul>						

						<font color="white">Release Version 0.9 - 04/10/2015</font>

					<div ng-if="authenticationService.authenticated">
							<font color="white">Signed in as: {{authenticationService.user}}</font>
						</div> 
					</div><!-- /.navbar-collapse -->
					
				</nav>
			</header>
			
			
<!-- PAGE CONTAINER -->
			<div style = "width:100%; height: 100%">

				    <div style = "width:100%; height: 100%" ui-view></div>

			</div>
<!-- FOOTER -->			
			<footer>
			<!-- modal error log -->
				 <div style = "margin-left: 50%; position: fixed; bottom: 0; width: 100%;" ng-controller = "analystErrorLogController as aEl">
						<button id = "errorLog" type="button" class="btn btn-sm new-project-button" data-animation="am-slide-bottom"
						 ng-click = "aEl.openErrorLog()">
								Open Error Log
						</button>
				</div> 

			</footer>
		</div>	

		<!-- JQuery Libraries -->
		<script src="bower_components/jquery/dist/jquery.min.js"></script>
		<script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
		
		<!-- fancy tree -->
		<script src="bower_components/fancytree/dist/jquery.fancytree.min.js"></script>
		<script src='lib/dynatree/jquery.dynatree.js'></script>
		<script src="lib/file-reader/jquery.FileReader.js" type="text/javascript"></script>

		<!--Third Party Libraries-->
		<!--<script src="lib/jsoneditor/jsoneditor.js"></script> -->
		<script src='lib/swfobject.js'></script>
		<script src="lib/FileSaver.min.js" type="text/javascript"></script>
		<!-- D3 -->
		<script src="bower_components/d3/d3.min.js"></script>
		<script src="bower_components/d3/topojson.v1.min.js"></script>
		
		<!--Angular Libraries-->
		
		<script src="bower_components/angular/angular.min.js"></script>
		<!-- Bootstrap -->
		<script src= "bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
		<!-- Angular sanitize -->
		<script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>
		<!-- Angular animate -->
		<script src="bower_components/angular-animate/angular-animate.min.js"></script>
		<!-- Angular Strap -->
		<script src="bower_components/angular-strap/dist/angular-strap.min.js"></script>
		<script src="bower_components/angular-strap/dist/angular-strap.tpl.min.js"></script>
		<!-- Router -->
		<script src='bower_components/angular-ui-router/release/angular-ui-router.js'></script>
		<!--Spinner-->
		<script src="bower_components/spin.js/spin.js"></script>
		<script src="bower_components/angular-spinner/angular-spinner.min.js"></script>
		<!-- UI grid -->
		<script src="bower_components/angular-ui-grid/ui-grid.min.js"></script>
<!-- 		<script src="lib/ng-grid/ng-grid.min.js" type="text/javascript"></script> -->

		<script src= "bower_components/angular-ui-layout/ui-layout.js"></script>
		

		<!-- no bower support -->
		<script src="lib/editablespan/mk-editable-span.js" type="text/javascript"></script>

		<script src="lib/angular-masonry/masonry.js" type="text/javascript"></script>
		<script src="lib/imagesloaded/imagesloaded.js" type="text/javascript"></script>
		<script src='lib/ui-slider/slider.js'></script>
		<script src='lib/ui-sortable/ui-sortable.js'></script>
<!--  		<script src='lib/ui-select/select.js'></script> -->
       <!-- UI select-->
       <script src= "bower_components/angular-ui-select/dist/select.min.js"></script>


		
		<!-- WeaveAnalyst app -->
		<script src='src/app.js'></script>
		<script src='src/configure/auth/authenticationService.js'></script>
	    <script src='src/configure/metadata/MetadataManagerCtrl.js'></script>
		<script src='src/configure/metadata/metadataManagerService.js'></script>
		<script src='src/configure/script/ScriptManagerCtrl.js'></script>
		<script src='src/configure/script/scriptManagerService.js'></script>
		<script src='src/directive/dual-list-box-directive.js'></script>
		<script src='src/directive/file-upload-directive.js'></script>
		<script src='src/directive/popover-directive.js'></script>
		<script src='src/dataStatistics/dataStatistics.js'></script>
		<script src='src/dataStatistics/d3Service.js'></script>
		<script src='src/dataStatistics/correlationMatrix-directive.js'></script>
		<script src='src/dataStatistics/sparklines-directive.js'></script>
		<script src='src/queryObjectEditor/QueryObjectEditorCtrl.js'></script>
		<script src='src/queryObjectEditor/query-Object-Editor-directive.js'></script>
		<script src='src/queryObject/queryObjectService.js'></script>
		<script src='src/project/ProjectManagementCtrl.js'></script>
		<script src='src/project/projectService.js'></script>
		<script src='src/errorLog/errorLogCtrl.js'></script>
		<script src="src/analysis/analysisController.js"></script>
		<script src="src/analysis/analysisService.js"></script>
		<script src="src/analysis/crosstab/CrossTabCtrl.js"></script> 
		<script src='src/analysis/qo_Buttons_directive.js'></script>
		<script src='src/analysis/script_Controls_directive.js'></script>
		<script src="src/analysis/data_filters/dataFilterCtrl.js"></script>
		<script src="src/analysis/data_filters/generic-filter-directive.js"></script>
		<script src="src/analysis/data_filters/geo-filter-directive.js"></script>
		<script src="src/analysis/data_filters/geographyCtrl.js"></script>
		<script src="src/analysis/data_filters/treeFilterCtrl.js"></script>
		<script src="src/analysis/data_filters/byVariableCtrl.js"></script>
		<script src="src/visualization/weave/QueryHandler.js"></script>
		<script src="src/d3_viz/mapTool.js"></script>
		<script src="src/visualization/weave/WeaveModule.js"></script>
		<script src="src/visualization/tools/toolsCtrl.js"></script>
		<script src="src/visualization/tools/barChart/barChartCtrl.js"></script>
		<script src="src/visualization/tools/dataTable/dataTableCtrl.js"></script>
		<script src="src/visualization/tools/mapChart/mapChartCtrl.js"></script>
		<script src="src/visualization/tools/scatterPlot/scatterPlotCtrl.js"></script>
		<script src="src/visualization/tools/color/colorCtrl.js"></script>
		<script src='src/visualization/tools/color/keyColumnCtrl.js'></script>
		<script src="src/visualization/tools/attributeMenu/attributeMenuCtrl.js"></script>
		<script type="text/javascript" src="/swfobject.js"></script>
        <script type="text/javascript">
        		var loadFlashContent = function() {
        			var swfVersionStr = "10.2.0";
		            // To use express install, set to playerProductInstall.swf, otherwise the empty string. 
		            var xiSwfUrlStr = "playerProductInstall.swf";
		            var flashvars = {};
		            var params = {};
		            params.quality = "high";
		            params.bgcolor = "#869ca7";
		            params.allowscriptaccess = "sameDomain";
		            params.allowfullscreen = "true";
		            params.base = window.location.protocol+"//"+window.location.host;
		            var attributes = {};
		            attributes.id = "weave";
		            attributes.name = "weave";
		            attributes.align = "middle";
		            swfobject.embedSWF(
		                "/weave.swf", "flashContent", 
		                "70%", "800px", 
		                swfVersionStr, xiSwfUrlStr, 
		                flashvars, params, attributes);
		            // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
		            swfobject.createCSS("#flashContent", "display:block;text-align:left;");
        		};
	            $('#flashContent').ready(function() {
	            	setTimeout(loadFlashContent, 100);
	            });
        </script>
	</body>
	
</html>
